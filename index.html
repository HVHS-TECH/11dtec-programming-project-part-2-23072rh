<!DOCTYPE html>
<html>
<head>
  <title>Car Rental App</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .hidden { display: none; }
    .car-button { margin: 5px 0; display: block; }
    .error { color: red; }
  </style>
</head>
<body>

  <h1>Rob's Car Rentals</h1>

  <!-- Start form -->
  <div id="startSection">
    <label for="nameInput">What's your name?</label><br>
    <input type="text" id="nameInput"><br><br>

    <label for="seatsDropdown">How many seats do you need?</label><br>
    <select id="seatsDropdown">
      <option value="">-- Select seats --</option>
      <option value="1">1 seat</option>
      <option value="2">2 seats</option>
      <option value="3">3 seats</option>
      <option value="4">4 seats</option>
      <option value="5">5 seats</option>
      <option value="6">6 seats</option>
      <option value="7">7 seats</option>
      <option value="8">8 seats</option>
    </select><br><br>

    <label for="daysDropdown">How many days do you want to rent it?</label><br>
    <select id="daysDropdown">
      <option value="">-- Select days --</option>
      <option value="1">1 day</option>
      <option value="2">2 days</option>
      <option value="3">3 days</option>
      <option value="4">4 days</option>
      <option value="5">5 days</option>
      <option value="6">6 days</option>
      <option value="7">7 days</option>
    </select><br><br>

    <button onclick="startRental()">Start</button>
    <p id="inputError" class="error"></p>
  </div>

  <!-- Matching cars will go here -->
  <div id="carOptions" class="hidden">
    <h3>Matching cars:</h3>
    <div id="carList"></div>
  </div>

  <!-- Final outcome -->
  <div id="result" class="hidden"></div>

  <script>
    // Car options stored in an array of objects
    const cars = [
      { name: "BAC Mono", seats: 1, price: 100 },
      { name: "Mazda MX5", seats: 2, price: 120 },
      { name: "Toyota Yaris", seats: 3, price: 130 },
      { name: "Mini Cooper", seats: 4, price: 140 },
      { name: "KIA Sportage", seats: 5, price: 150 },
      { name: "Mitsubishi Triton", seats: 6, price: 160 },
      { name: "Mitsubishi Outlander", seats: 7, price: 170 },
      { name: "KIA Carnival", seats: 8, price: 180 }
    ];

    let userName = "";
    let rentalDays = 0;
    let selectedCar = null;

    // Start the rental process and validate user input
    function startRental() {
      const nameValue = document.getElementById("nameInput").value;
      const seatsValue = document.getElementById("seatsDropdown").value;
      const daysValue = document.getElementById("daysDropdown").value;
      const errorMsg = document.getElementById("inputError");

      errorMsg.textContent = "";

      if (nameValue === "" || !isNaN(nameValue)) {
        errorMsg.textContent = "Please enter a valid name.";
        return;
      }

      if (seatsValue === "" || daysValue === "") {
        errorMsg.textContent = "Please select seats and days from the dropdown.";
        return;
      }

      userName = nameValue;
      rentalDays = Number(daysValue);

      showMatchingCars(Number(seatsValue));
    }

    // Show cars that exactly match the number of seats
    function showMatchingCars(seatCount) {
      const carListDiv = document.getElementById("carList");
      carListDiv.innerHTML = ""; // Clear previous results
      document.getElementById("carOptions").classList.remove("hidden");

      let foundMatch = false;

      // Loop through cars and show only those that exactly match
      cars.forEach(function(car) {
        if (car.seats === seatCount) {
          foundMatch = true;
          const btn = document.createElement("button");
          btn.textContent = `${car.name} - ${car.seats} seats - $${car.price}`;
          btn.className = "car-button";
          btn.onclick = function() {
            selectedCar = car;
            displayResult();
          };
          carListDiv.appendChild(btn);
        }
      });

      if (!foundMatch) {
        carListDiv.innerHTML = `<p class="error">Sorry ${userName}, we have no cars with exactly ${seatCount} seat(s).</p>`;
      }
    }

    // Show the final result and cost
    function displayResult() {
      const totalCost = selectedCar.seats * rentalDays * 10;
      const resultDiv = document.getElementById("result");

      resultDiv.innerHTML = `
        <h3>Thank you, ${userName}!</h3>
        <p>You have selected: <strong>${selectedCar.name}</strong></p>
        <p>Rental duration: <strong>${rentalDays} day(s)</strong></p>
        <p>Total cost: <strong>$${totalCost}</strong></p>
      `;
      resultDiv.classList.remove("hidden");
    }
  </script>

</body>
</html>
