<!DOCTYPE html>
<html>
<head>
  <title>Car Rental App</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .error { color: red; }
    .section { margin-bottom: 20px; }
  </style>
</head>
<body>

  <h1>Rob's Car Rentals</h1>

  <!-- All input fields shown at once -->
  <div class="section">
    <label for="nameInput">Your name:</label><br>
    <input type="text" id="nameInput"><br><br>

    <label for="seatsDropdown">How many seats do you need?</label><br>
    <select id="seatsDropdown">
      <option value="">-- Select seats --</option>
      <option value="1">1 seat</option>
      <option value="2">2 seats</option>
      <option value="3">3 seats</option>
      <option value="4">4 seats</option>
      <option value="5">5 seats</option>
      <option value="6">6 seats</option>
      <option value="7">7 seats</option>
      <option value="8">8 seats</option>
    </select><br><br>

    <label for="daysInput">How many days would you like to rent it?</label><br>
    <input type="number" id="daysInput" min="1"><br><br>

    <label>
      <input type="checkbox" id="insuranceCheckbox">
      Add insurance for $50
    </label><br><br>

    <button onclick="processRental()">Submit</button>
    <p id="inputError" class="error"></p>
  </div>

  <!-- Summary and result appear here -->
  <div id="summarySection" class="section"></div>

  <script>
    const cars = [
      { name: "BAC Mono", seats: 1, price: 100 },
      { name: "Mazda MX5", seats: 2, price: 120 },
      { name: "Toyota Yaris", seats: 3, price: 130 },
      { name: "Mini Cooper", seats: 4, price: 140 },
      { name: "KIA Sportage", seats: 5, price: 150 },
      { name: "Mitsubishi Triton", seats: 6, price: 160 },
      { name: "Mitsubishi Outlander", seats: 7, price: 170 },
      { name: "KIA Carnival", seats: 8, price: 180 }
    ];

    function processRental() {
      const name = document.getElementById("nameInput").value.trim();
      const seatValue = document.getElementById("seatsDropdown").value;
      const daysValue = document.getElementById("daysInput").value;
      const insuranceSelected = document.getElementById("insuranceCheckbox").checked;

      const errorMsg = document.getElementById("inputError");
      const summaryDiv = document.getElementById("summarySection");

      // Clear previous messages
      errorMsg.textContent = "";
      summaryDiv.innerHTML = "";

      // Validation
      if (name === "" || !isNaN(name)) {
        errorMsg.textContent = "Please enter a valid name.";
        return;
      }

      if (seatValue === "" || daysValue === "" || daysValue < 1) {
        errorMsg.textContent = "Please select a seat option and valid rental days.";
        return;
      }

      const seatCount = Number(seatValue);
      const rentalDays = Number(daysValue);

      // Try to find a car that matches exactly
      const matchingCar = cars.find(car => car.seats === seatCount);

      // Display everything
      summaryDiv.innerHTML = `<h2>Summary for ${name}</h2>
        <p><strong>Seats needed:</strong> ${seatCount}</p>
        <p><strong>Rental days:</strong> ${rentalDays}</p>
        <p><strong>Insurance:</strong> ${insuranceSelected ? "Yes (+$50)" : "No"}</p>`;

      if (matchingCar) {
        const insuranceCost = insuranceSelected ? 50 : 0;
        const totalCost = seatCount * rentalDays * 10 + insuranceCost;

        summaryDiv.innerHTML += `
          <p><strong>Car selected:</strong> ${matchingCar.name}</p>
          <p><strong>Total cost:</strong> $${totalCost}</p>
        `;
      } else {
        summaryDiv.innerHTML += `<p class="error">Sorry ${name}, we donâ€™t have a car with exactly ${seatCount} seats.</p>`;
      }
    }
  </script>

</body>
</html>
